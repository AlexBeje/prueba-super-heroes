<div
  class="relative w-full rounded-lg border-[8px] border-solid border-[#44474e] md:h-[524px] md:w-[400px]"
>
  <div
    class="absolute -z-10 h-full shadow-[inset_0_0_40px_20px_rgba(0,0,0,0.25)]"
  ></div>
  <div class="relative flex flex-col gap-4 p-6">
    <div class="flex justify-between">
      <h2 class="text-3xl font-bold">
        {{ editMode() ? "Edit Hero" : "New Hero" }}
      </h2>
      <button (click)="onClose()" mat-icon-button aria-label="Close button">
        <mat-icon class="mb-4">close</mat-icon>
      </button>
    </div>
    <div class="flex flex-col gap-2">
      <div class="flex flex-col gap-2 md:flex-row md:gap-6">
        <mat-form-field>
          <mat-label>Name</mat-label>
          <input
            matInput
            placeholder="Spider-Man"
            [formControl]="name"
            (blur)="validate()"
            required
            (keyup.Enter)="editMode() ? onEdit() : onAdd()"
          />
          @if (name.invalid) {
            <mat-error>{{ errorMessage() }}</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Full Name</mat-label>
          <input
            matInput
            placeholder="Peter Parker"
            [formControl]="fullName"
            (blur)="validate()"
            required
            (keyup.Enter)="editMode() ? onEdit() : onAdd()"
          />
          @if (fullName.invalid) {
            <mat-error>{{ errorMessage() }}</mat-error>
          }
        </mat-form-field>
      </div>
      <mat-form-field>
        <mat-label>Image URL</mat-label>
        <input
          matInput
          placeholder="https://images-website/hero.jpg"
          [formControl]="imageUrl"
          (blur)="validate()"
          required
          (keyup.Enter)="editMode() ? onEdit() : onAdd()"
        />
        @if (imageUrl.invalid) {
          <mat-error>{{ errorMessage() }}</mat-error>
        }
      </mat-form-field>
      <div class="flex flex-col gap-2 md:flex-row md:gap-6">
        <mat-form-field>
          <mat-label>Power</mat-label>
          <input
            type="number"
            matInput
            placeholder="43"
            [formControl]="power"
            (blur)="validate()"
            required
            (keyup.Enter)="editMode() ? onEdit() : onAdd()"
          />
          @if (power.invalid) {
            <mat-error>{{ errorMessage() }}</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Speed</mat-label>
          <input
            type="number"
            matInput
            placeholder="87"
            [formControl]="speed"
            (blur)="validate()"
            required
            (keyup.Enter)="editMode() ? onEdit() : onAdd()"
          />
          @if (speed.invalid) {
            <mat-error>{{ errorMessage() }}</mat-error>
          }
        </mat-form-field>
      </div>
      <div class="flex flex-col gap-2 md:flex-row md:gap-6">
        <mat-form-field>
          <mat-label>Alias</mat-label>
          <input
            matInput
            placeholder="Spidey"
            [formControl]="alias"
            (keyup.Enter)="editMode() ? onEdit() : onAdd()"
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>Alignment</mat-label>
          <mat-select [formControl]="alignment">
            @for (alignment of alignments(); track alignment) {
              <mat-option [value]="alignment.value">{{
                alignment.viewValue
              }}</mat-option>
            }
          </mat-select>
          @if (alignment.invalid) {
            <mat-error>{{ errorMessage() }}</mat-error>
          }
        </mat-form-field>
      </div>
      <mat-form-field>
        <mat-label>First Appearance</mat-label>
        <input
          matInput
          placeholder="Spider-Man #1"
          [formControl]="firstAppearance"
          (keyup.Enter)="editMode() ? onEdit() : onAdd()"
        />
      </mat-form-field>
    </div>
    <div
      class="absolute -bottom-10 -right-8 flex -rotate-12 transform gap-4 rounded-lg border-8 border-solid border-[#44474e] bg-[#1a1b1f] p-4 drop-shadow-2xl md:-right-16"
    >
      <button mat-button color="blank" (click)="onClose()">Cancel</button>
      @if (editMode()) {
        <button mat-flat-button (click)="onEdit()">Edit</button>
      } @else {
        <button mat-flat-button (click)="onAdd()">Add</button>
      }
    </div>
  </div>
</div>
